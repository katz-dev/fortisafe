(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(790)}])},248:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n(5893),i=n(7294),r=n(1163);function s(e){let t=(0,r.useRouter)(),n=e.navigateToPage||(e=>{"dashboard"===e?t.replace("/dashboard"):"login"===e?t.replace("/login"):t.replace("/")}),s=e.setUser||(()=>{});return(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("access_token"),n=e.get("id_token");t&&n?(localStorage.setItem("access_token",t),localStorage.setItem("id_token",n),fetch("http://localhost:8080/api/auth/profile",{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).then(e=>{console.log("Fetched user profile:",e),localStorage.setItem("user",JSON.stringify(e.user)),s(e.user),window.location.href="/dashboard"}).catch(e=>{console.error("Error fetching profile:",e),window.location.href="/login"})):(console.error("No tokens found in URL"),window.location.href="/login")},[n,s,t]),(0,o.jsx)("div",{style:{color:"#fff",background:"#191825",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)("h2",{children:"Authenticating..."})})}},790:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o=n(5893),i=n(7294),r=n(6467),s=n.n(r);function a(e){let{navigateToPage:t}=e;return(0,o.jsx)("div",{className:s().container,children:(0,o.jsxs)("main",{className:s().main,children:[(0,o.jsx)("h1",{className:s().title,children:"NEXT-CHROME-STARTER"}),(0,o.jsx)("p",{className:s().description,children:"This is an example of a Browser Extension built with NEXT.JS. Please refer to the GitHub repo for running instructions and documentation"}),(0,o.jsx)("h1",{className:s().code,children:"Index Page ./components/Index/index.js"}),(0,o.jsx)("p",{children:"[ - This is Index page content - ]"}),(0,o.jsx)("p",{onClick:()=>t("new"),children:"Go to New Page >"}),(0,o.jsx)("p",{onClick:()=>t("dashboard"),children:"Go to Dashboard >"}),(0,o.jsx)("p",{onClick:()=>t("login"),style:{cursor:"pointer",color:"#6366F1",textDecoration:"underline",marginTop:"1rem"},children:"Go to Login/Signup >"})]})})}function l(e){let{navigateToPage:t}=e;return(0,o.jsx)("div",{className:s().container,children:(0,o.jsxs)("main",{className:s().main,children:[(0,o.jsx)("h1",{className:s().title,children:"NEXT-CHROME-STARTER"}),(0,o.jsx)("p",{className:s().description,children:"This is an example of a Browser Extension built with NEXT.JS. Please refer to the GitHub repo for running instructions and documentation"}),(0,o.jsx)("h1",{className:s().code,children:"New Page ./components/New/index.js"}),(0,o.jsx)("p",{children:"[ - This is New page content - ]"}),(0,o.jsx)("p",{onClick:()=>t("index"),children:"< Go Back"})]})})}function c(e){let{onLogin:t,onSignup:n}=e;return(0,o.jsx)("div",{style:{width:"100%",height:"100%",minHeight:"350px",minWidth:"300px",background:"#191825",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)("div",{className:s().container,style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",borderRadius:"20px",background:"#191825",width:"90%",maxWidth:"400px",padding:"2rem 1.5rem"},children:(0,o.jsxs)("main",{className:s().main,style:{width:"100%",height:"auto",minHeight:"unset"},children:[(0,o.jsx)("h1",{style:{fontFamily:"Orbitron, sans-serif",fontWeight:500,fontSize:"2.5rem",color:"#fff",marginBottom:"2rem"},children:"Fortisafe"}),(0,o.jsx)("button",{style:{width:"100%",padding:"1rem",borderRadius:"20px",background:"#6366F1",color:"#fff",fontSize:"1.5rem",border:"none",marginBottom:"2rem",cursor:"pointer",fontFamily:"inherit"},onClick:t,children:"Login"}),(0,o.jsxs)("div",{style:{color:"#bdb7d7",fontSize:"1.25rem"},children:["Don't have an account?"," ",(0,o.jsx)("span",{style:{color:"#fff",textDecoration:"underline",cursor:"pointer"},onClick:n,children:"Sign up"})]})]})})})}var d=n(1163);function u(e){var t,n,r,a,l;let{onLogout:c}=e,[u,h]=(0,i.useState)(null);(0,d.useRouter)(),(0,i.useEffect)(()=>{let e=localStorage.getItem("user");e&&h(JSON.parse(e));let t=localStorage.getItem("access_token");t?fetch("http://localhost:8080/api/auth/profile",{headers:{Authorization:"Bearer ".concat(t)}}).then(e=>e.json()).then(e=>{h(e),localStorage.setItem("user",JSON.stringify(e))}).catch(()=>{e||h(null)}):e||h(null)},[]);let f=(null==u?void 0:null===(t=u.auth0Profile)||void 0===t?void 0:t.picture)||"https://randomuser.me/api/portraits/men/32.jpg",m=(null==u?void 0:null===(n=u.auth0Profile)||void 0===n?void 0:n.name)||(null==u?void 0:null===(r=u.user)||void 0===r?void 0:r.firstName)||"User",g=(null==u?void 0:null===(a=u.auth0Profile)||void 0===a?void 0:a.email)||(null==u?void 0:null===(l=u.user)||void 0===l?void 0:l.email)||"";return(0,o.jsxs)("div",{className:s().container,style:{background:"#191825",borderRadius:"20px",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",width:"400px",maxWidth:"95vw",padding:"2rem 1.5rem",minHeight:"600px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,o.jsx)("h1",{style:{fontFamily:"Orbitron, sans-serif",fontWeight:500,fontSize:"2.2rem",color:"#fff",margin:0},children:"Fortisafe"}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,o.jsx)("img",{src:f,alt:"avatar",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",border:"2px solid #fff"}}),(0,o.jsx)("span",{style:{fontSize:"2rem",color:"#bdb7d7",cursor:"pointer"},children:"⚙"})]})]}),(0,o.jsxs)("div",{style:{color:"#bdb7d7",marginBottom:"1.5rem",textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:600},children:m}),(0,o.jsx)("div",{style:{fontSize:"1rem"},children:g})]}),(0,o.jsxs)("div",{style:{background:"#2d2940",borderRadius:"16px",padding:"0.75rem 1.25rem",display:"flex",alignItems:"center",marginBottom:"2rem"},children:[(0,o.jsx)("input",{type:"text",placeholder:"Search",style:{background:"transparent",border:"none",outline:"none",color:"#bdb7d7",fontSize:"1.25rem",flex:1,fontFamily:"inherit"}}),(0,o.jsx)("span",{style:{color:"#bdb7d7",fontSize:"1.5rem",marginLeft:"0.5rem"},children:"\uD83D\uDD0D"})]}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,o.jsx)("span",{style:{fontSize:"1.7rem"},children:"\uD83D\uDD12"})," Generate password"]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,o.jsx)("span",{style:{fontSize:"1.7rem",color:"#e58e9e"},children:"\uD83D\uDDC2️"})," Scan page"]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,o.jsx)("span",{style:{fontWeight:700,color:"#3eb3b3",fontSize:"1.7rem"},children:"Fs"})," Fortisafe website"]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,o.jsx)("span",{style:{fontSize:"1.7rem",color:"#fff"},children:"❓"})," Help"]})]})]}),(0,o.jsx)("button",{style:{width:"100%",padding:"1.25rem",borderRadius:"20px",background:"#a594f9",color:"#2d2940",fontSize:"1.3rem",border:"none",marginTop:"2rem",cursor:"pointer",fontFamily:"inherit"},onClick:c,children:"Log out"})]})}var h=n(248);function f(){let[e,t]=(0,i.useState)("index"),[n,r]=(0,i.useState)(null),[s,d]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=localStorage.getItem("user"),n=localStorage.getItem("access_token");e&&n&&(r(JSON.parse(e)),d(!0),t("dashboard"))},[]);let f=e=>{t(e)},m=()=>{let e=window.open("http://localhost:8080/api/auth/login?client=extension","Auth0 Login","width=600,height=700,left=200,top=200");window.addEventListener("message",n=>{"http://localhost:8080"===n.origin&&"auth-success"===n.data.type&&(e.close(),localStorage.setItem("access_token",n.data.user.accessToken),localStorage.setItem("id_token",n.data.user.idToken),d(!0),r(n.data.user),t("dashboard"))},!1)},g=()=>{alert("Sign up clicked!")},p=()=>{localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),r(null),d(!1),t("login")};return(0,o.jsxs)(o.Fragment,{children:["index"===e&&(0,o.jsx)(a,{navigateToPage:f}),"new"===e&&(0,o.jsx)(l,{navigateToPage:f}),"login"===e&&!s&&(0,o.jsx)(c,{onLogin:m,onSignup:g}),"dashboard"===e&&s&&(0,o.jsx)(u,{onLogout:p,user:n}),"auth-success"===e&&(0,o.jsx)(h.default,{navigateToPage:f,setUser:r})]})}},6467:function(e){e.exports={container:"Pages_container__SbWhT",main:"Pages_main__5_Vsf",title:"Pages_title__5_zk8",description:"Pages_description__Vsj9E",code:"Pages_code__vzNOX"}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);