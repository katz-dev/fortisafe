(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3609:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5371)}])},5865:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return AuthSuccess}});var i=t(2676),o=t(5271),r=t(7793);function AuthSuccess(e){let n=(0,r.useRouter)(),t=e.navigateToPage||(e=>{"dashboard"===e?n.replace("/dashboard"):"login"===e?n.replace("/login"):n.replace("/")}),s=e.setUser||(()=>{});return(0,o.useEffect)(()=>{let e=new URLSearchParams(window.location.search),n=e.get("access_token"),i=e.get("id_token");n&&i?(localStorage.setItem("access_token",n),localStorage.setItem("id_token",i),fetch("http://localhost:8080/api/auth/profile",{headers:{Authorization:"Bearer ".concat(n)}}).then(e=>e.json()).then(e=>{console.log("Fetched user profile:",e),localStorage.setItem("user",JSON.stringify(e.user)),s(e.user),t("dashboard")}).catch(e=>{console.error("Error fetching profile:",e),t("login")})):(console.error("No tokens found in URL"),t("login"))},[t,s,n]),(0,i.jsx)("div",{style:{color:"#fff",background:"#191825",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("h2",{children:"Authenticating..."})})}},5371:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Home}});var i=t(2676),o=t(5271),r=t(1860),s=t.n(r);function Index(e){let{navigateToPage:n}=e;return(0,i.jsx)("div",{className:s().container,children:(0,i.jsxs)("main",{className:s().main,children:[(0,i.jsx)("h1",{className:s().title,children:"NEXT-CHROME-STARTER"}),(0,i.jsx)("p",{className:s().description,children:"This is an example of a Browser Extension built with NEXT.JS. Please refer to the GitHub repo for running instructions and documentation"}),(0,i.jsx)("h1",{className:s().code,children:"Index Page ./components/Index/index.js"}),(0,i.jsx)("p",{children:"[ - This is Index page content - ]"}),(0,i.jsx)("p",{onClick:()=>n("new"),children:"Go to New Page >"}),(0,i.jsx)("p",{onClick:()=>n("dashboard"),children:"Go to Dashboard >"}),(0,i.jsx)("p",{onClick:()=>n("login"),style:{cursor:"pointer",color:"#6366F1",textDecoration:"underline",marginTop:"1rem"},children:"Go to Login/Signup >"})]})})}function New(e){let{navigateToPage:n}=e;return(0,i.jsx)("div",{className:s().container,children:(0,i.jsxs)("main",{className:s().main,children:[(0,i.jsx)("h1",{className:s().title,children:"NEXT-CHROME-STARTER"}),(0,i.jsx)("p",{className:s().description,children:"This is an example of a Browser Extension built with NEXT.JS. Please refer to the GitHub repo for running instructions and documentation"}),(0,i.jsx)("h1",{className:s().code,children:"New Page ./components/New/index.js"}),(0,i.jsx)("p",{children:"[ - This is New page content - ]"}),(0,i.jsx)("p",{onClick:()=>n("index"),children:"< Go Back"})]})})}function Login(e){let{onLogin:n,onSignup:t}=e;return(0,i.jsx)("div",{style:{width:"100%",height:"100%",minHeight:"350px",minWidth:"300px",background:"#191825",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("div",{className:s().container,style:{boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",borderRadius:"20px",background:"#191825",width:"90%",maxWidth:"400px",padding:"2rem 1.5rem"},children:(0,i.jsxs)("main",{className:s().main,style:{width:"100%",height:"auto",minHeight:"unset"},children:[(0,i.jsx)("h1",{style:{fontFamily:"Orbitron, sans-serif",fontWeight:500,fontSize:"2.5rem",color:"#fff",marginBottom:"2rem"},children:"Fortisafe"}),(0,i.jsx)("button",{style:{width:"100%",padding:"1rem",borderRadius:"20px",background:"#6366F1",color:"#fff",fontSize:"1.5rem",border:"none",marginBottom:"2rem",cursor:"pointer",fontFamily:"inherit"},onClick:n,children:"Login"}),(0,i.jsxs)("div",{style:{color:"#bdb7d7",fontSize:"1.25rem"},children:["Don't have an account?"," ",(0,i.jsx)("span",{style:{color:"#fff",textDecoration:"underline",cursor:"pointer"},onClick:t,children:"Sign up"})]})]})})})}var a=t(7793);function Dashboard(e){var n,t,r,l,c;let{onLogout:d}=e,[u,h]=(0,o.useState)(null);(0,a.useRouter)(),(0,o.useEffect)(()=>{let e=localStorage.getItem("access_token");e?fetch("http://localhost:8080/api/auth/profile",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{h(e),localStorage.setItem("user",JSON.stringify(e))}).catch(()=>{h(null)}):h(null)},[]);let f=(null==u?void 0:null===(n=u.auth0Profile)||void 0===n?void 0:n.picture)||"https://randomuser.me/api/portraits/men/32.jpg",m=(null==u?void 0:null===(t=u.auth0Profile)||void 0===t?void 0:t.name)||(null==u?void 0:null===(r=u.user)||void 0===r?void 0:r.firstName)||"User",g=(null==u?void 0:null===(l=u.auth0Profile)||void 0===l?void 0:l.email)||(null==u?void 0:null===(c=u.user)||void 0===c?void 0:c.email)||"";return(0,i.jsxs)("div",{className:s().container,style:{background:"#191825",borderRadius:"20px",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",width:"400px",maxWidth:"95vw",padding:"2rem 1.5rem",minHeight:"600px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,i.jsx)("h1",{style:{fontFamily:"Orbitron, sans-serif",fontWeight:500,fontSize:"2.2rem",color:"#fff",margin:0},children:"Fortisafe"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,i.jsx)("img",{src:f,alt:"avatar",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover",border:"2px solid #fff"}}),(0,i.jsx)("span",{style:{fontSize:"2rem",color:"#bdb7d7",cursor:"pointer"},children:"⚙"})]})]}),(0,i.jsxs)("div",{style:{color:"#bdb7d7",marginBottom:"1.5rem",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:600},children:m}),(0,i.jsx)("div",{style:{fontSize:"1rem"},children:g})]}),(0,i.jsxs)("div",{style:{background:"#2d2940",borderRadius:"16px",padding:"0.75rem 1.25rem",display:"flex",alignItems:"center",marginBottom:"2rem"},children:[(0,i.jsx)("input",{type:"text",placeholder:"Search",style:{background:"transparent",border:"none",outline:"none",color:"#bdb7d7",fontSize:"1.25rem",flex:1,fontFamily:"inherit"}}),(0,i.jsx)("span",{style:{color:"#bdb7d7",fontSize:"1.5rem",marginLeft:"0.5rem"},children:"\uD83D\uDD0D"})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem",marginBottom:"2rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,i.jsx)("span",{style:{fontSize:"1.7rem"},children:"\uD83D\uDD12"})," Generate password"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,i.jsx)("span",{style:{fontSize:"1.7rem",color:"#e58e9e"},children:"\uD83D\uDDC2️"})," Scan page"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,i.jsx)("span",{style:{fontWeight:700,color:"#3eb3b3",fontSize:"1.7rem"},children:"Fs"})," Fortisafe website"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#fff",fontSize:"1.5rem",cursor:"pointer"},children:[(0,i.jsx)("span",{style:{fontSize:"1.7rem",color:"#fff"},children:"❓"})," Help"]})]})]}),(0,i.jsx)("button",{style:{width:"100%",padding:"1.25rem",borderRadius:"20px",background:"#a594f9",color:"#2d2940",fontSize:"1.3rem",border:"none",marginTop:"2rem",cursor:"pointer",fontFamily:"inherit"},onClick:d,children:"Log out"})]})}var l=t(5865);function Home(){let[e,n]=(0,o.useState)("index"),[t,r]=(0,o.useState)(null),[s,a]=(0,o.useState)(!1),navigateToPage=e=>{n(e)};return(0,i.jsxs)(i.Fragment,{children:["index"===e&&(0,i.jsx)(Index,{navigateToPage:navigateToPage}),"new"===e&&(0,i.jsx)(New,{navigateToPage:navigateToPage}),"login"===e&&(0,i.jsx)(Login,{onLogin:()=>{let e=window.open("http://localhost:8080/api/auth/login?client=extension","Auth0 Login","width=600,height=700,left=200,top=200");window.addEventListener("message",n=>{"http://localhost:8080"===n.origin&&"auth-success"===n.data.type&&(e.close(),localStorage.setItem("access_token",n.data.user.accessToken),localStorage.setItem("id_token",n.data.user.idToken),a(!0),r(n.data.user),navigateToPage("dashboard"))},!1)},onSignup:()=>{alert("Sign up clicked!")}}),"dashboard"===e&&(0,i.jsx)(Dashboard,{onLogout:()=>{r(null),n("login")},user:t}),"auth-success"===e&&(0,i.jsx)(l.default,{navigateToPage:navigateToPage,setUser:r})]})}},1860:function(e){e.exports={container:"Pages_container__nsidX",main:"Pages_main__YBDSF",title:"Pages_title__0zY_5",description:"Pages_description__kuqfn",code:"Pages_code__zmX9T"}},7793:function(e,n,t){e.exports=t(1474)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3609)}),_N_E=e.O()}]);